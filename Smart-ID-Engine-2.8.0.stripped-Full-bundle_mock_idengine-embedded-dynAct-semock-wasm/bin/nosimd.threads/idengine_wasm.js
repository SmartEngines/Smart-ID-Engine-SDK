
var SmartIDEngine = (() => {
  var _scriptName = typeof document != 'undefined' ? document.currentScript?.src : undefined;
  
  return (
function(moduleArg = {}) {
  var moduleRtn;

function n(){p.buffer!=r.buffer&&v();return r}function x(){p.buffer!=r.buffer&&v();return aa}function ba(){p.buffer!=r.buffer&&v();return ca}function da(){p.buffer!=r.buffer&&v();return ea}function y(){p.buffer!=r.buffer&&v();return fa}function z(){p.buffer!=r.buffer&&v();return ha}function ia(){p.buffer!=r.buffer&&v();return ja}
var A=moduleArg,ka,la,ma=new Promise((a,b)=>{ka=a;la=b}),oa="object"==typeof window,qa="undefined"!=typeof WorkerGlobalScope,B=qa&&self.name?.startsWith("em-pthread"),ra=Object.assign({},A),C="",sa,ta;
if(oa||qa)qa?C=self.location.href:"undefined"!=typeof document&&document.currentScript&&(C=document.currentScript.src),_scriptName&&(C=_scriptName),C.startsWith("blob:")?C="":C=C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1),qa&&(ta=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),sa=async a=>{a=await fetch(a,{credentials:"same-origin"});if(a.ok)return a.arrayBuffer();throw Error(a.status+" : "+a.url);};
var D=A.printErr||console.error.bind(console);Object.assign(A,ra);ra=null;var p,ua,va=!1,wa,r,aa,ca,ea,fa,ha,xa,ja;function v(){var a=p.buffer;A.HEAP8=r=new Int8Array(a);A.HEAP16=ca=new Int16Array(a);A.HEAPU8=aa=new Uint8Array(a);A.HEAPU16=ea=new Uint16Array(a);A.HEAP32=fa=new Int32Array(a);A.HEAPU32=ha=new Uint32Array(a);A.HEAPF32=xa=new Float32Array(a);A.HEAPF64=ja=new Float64Array(a)}
if(B){var ya,za=!1;function a(...c){console.error(c.join(" "))}A.printErr||(D=a);self.alert=function(...c){postMessage({Ta:"alert",text:c.join(" "),Ib:Aa()})};self.onunhandledrejection=c=>{throw c.reason||c;};function b(c){try{var d=c.data,e=d.Ta;if("load"===e){let f=[];self.onmessage=h=>f.push(h);self.startWorker=()=>{postMessage({Ta:"loaded"});for(let h of f)b(h);self.onmessage=b};for(const h of d.xb)if(!A[h]||A[h].proxy)A[h]=(...g)=>{postMessage({Ta:"callHandler",wb:h,mb:g})},"printErr"==h&&(D=
A[h]);p=d.Lb;v();ya(d.Mb)}else if("run"===e){Ba(d.Ua);Ca(d.Ua,0,0,1,0,0);Da();Ea(d.Ua);za||(Fa(),za=!0);try{Ga(d.Gb,d.hb)}catch(f){if("unwind"!=f)throw f;}}else"setimmediate"!==d.target&&("checkMailbox"===e?za&&Ha():e&&(D(`worker: received unknown command ${e}`),D(d)))}catch(f){throw Ia(),f;}}self.onmessage=b}B||(p=new WebAssembly.Memory({initial:3136,maximum:32768,shared:!0}),v());var Ja=[],Ka=[],La=[],F=0,Ma=null;function Na(){F--;if(0==F&&Ma){var a=Ma;Ma=null;a()}}
function Oa(a){a="Aborted("+a+")";D(a);va=!0;a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");la(a);throw a;}var Pa=a=>a.startsWith("data:application/octet-stream;base64,"),Qa;async function Ra(a){try{var b=await sa(a);return new Uint8Array(b)}catch{}if(ta)a=ta(a);else throw"both async and sync fetching of the wasm failed";return a}
async function Sa(a,b){try{var c=await Ra(a);return await WebAssembly.instantiate(c,b)}catch(d){D(`failed to asynchronously prepare wasm: ${d}`),Oa(d)}}async function Ta(a){var b=Qa;if("function"==typeof WebAssembly.instantiateStreaming&&!Pa(b)&&"function"==typeof fetch)try{var c=fetch(b,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(c,a)}catch(d){D(`wasm streaming compile failed: ${d}`),D("falling back to ArrayBuffer instantiation")}return Sa(b,a)}
function Ua(){Va={E:Wa,U:Xa,b:Ya,o:Za,p:$a,d:ab,V:bb,ca:cb,ea:db,K:eb,I:fb,h:hb,F:ib,y:jb,c:kb,ga:lb,B:mb,r:nb,G:ob,u:pb,s:qb,q:rb,H:sb,C:tb,D:ub,ha:vb,J:wb,Y:xb,$:yb,Z:zb,Q:Ab,S:Bb,X:Ea,ba:Cb,x:Db,fa:Eb,w:Fb,da:Gb,R:Hb,_:Ib,aa:Jb,z:Kb,W:Lb,T:Mb,M:Nb,O:Ob,f:Pb,e:Qb,n:Rb,N:Sb,l:Tb,A:Ub,L:Vb,m:Wb,i:Xb,v:Yb,g:Zb,k:$b,j:ac,t:bc,a:p,P:cc};return{a:Va}}class dc{name="ExitStatus";constructor(a){this.message=`Program terminated with exit(${a})`;this.status=a}}
var ec=a=>{a.terminate();a.onmessage=()=>{}},G=0,hc=(a,b,...c)=>{for(var d=c.length,e=I(),f=fc(8*d),h=f>>3,g=0;g<c.length;g++){var l=c[g];ia()[h+g]=l}a=gc(a,0,d,f,b);J(e);return a};function cc(a){if(B)return hc(0,1,a);wa=a;if(!(0<G)){for(var b of ic)ec(b);for(b of K)ec(b);K=[];ic=[];L={};va=!0}throw new dc(a);}var jc=a=>{if(!(a instanceof dc||"unwind"==a))throw a;};function lc(a){if(B)return hc(1,0,a);Mb(a)}var Mb=a=>{wa=a;if(B)throw lc(a),"unwind";cc(a)},K=[],ic=[],mc=[],L={};
function nc(){for(var a=4;a--;)oc();Ja.unshift(()=>{F++;pc(()=>Na())})}var rc=a=>{var b=a.Ua;delete L[b];K.push(a);ic.splice(ic.indexOf(a),1);a.Ua=0;qc(b)};function Da(){mc.forEach(a=>a())}
var sc=a=>new Promise(b=>{a.onmessage=f=>{f=f.data;var h=f.Ta;if(f.eb&&f.eb!=Aa()){var g=L[f.eb];g?g.postMessage(f,f.Jb):D(`Internal error! Worker sent a message "${h}" to target pthread ${f.eb}, but that thread no longer exists!`)}else if("checkMailbox"===h)Ha();else if("spawnThread"===h){if(0==K.length&&(oc(),sc(K[0])),h=K.pop())ic.push(h),L[f.Ua]=h,h.Ua=f.Ua,h.postMessage({Ta:"run",Gb:f.Nb,hb:f.hb,Ua:f.Ua},f.Jb)}else if("cleanupThread"===h)rc(L[f.Hb]);else if("loaded"===h)a.loaded=!0,b(a);else if("alert"===
h)alert(`Thread ${f.Ib}: ${f.text}`);else if("setimmediate"===f.target)a.postMessage(f);else if("callHandler"===h)A[f.wb](...f.mb);else h&&D(`worker sent an unknown command ${h}`)};a.onerror=f=>{D(`${"worker sent an error!"} ${f.filename}:${f.lineno}: ${f.message}`);throw f;};var c=[],d=["printErr"],e;for(e of d)A.propertyIsEnumerable(e)&&c.push(e);a.postMessage({Ta:"load",xb:c,Lb:p,Mb:ua})});function pc(a){B?a():Promise.all(K.map(sc)).then(a)}
function oc(){var a=_scriptName;A.mainScriptUrlOrBlob&&(a=A.mainScriptUrlOrBlob,"string"!=typeof a&&(a=URL.createObjectURL(a)));a=new Worker(a,{name:"em-pthread"});K.push(a)}
var tc=a=>{for(;0<a.length;)a.shift()(A)},Ba=a=>{v();var b=z()[a+52>>2];a=z()[a+56>>2];uc(b,b-a);J(b)},vc=[],wc,M=a=>{var b=vc[a];b||(a>=vc.length&&(vc.length=a+1),vc[a]=b=wc.get(a));return b},Ga=(a,b)=>{G=0;a=M(a)(b);0<G?wa=a:xc(a)},yc=[],zc=0,Wa=a=>{var b=new Ac(a);if(0==n()[b.Ja+12]){var c=1;n()[b.Ja+12]=c;zc--}c=0;n()[b.Ja+13]=c;yc.push(b);Bc(a);return Cc(a)},Dc=0,Xa=()=>{N(0,0);var a=yc.pop();Ec(a.pb);Dc=0};class Ac{constructor(a){this.pb=a;this.Ja=a-24}}
var ab=a=>{Dc||=a;throw Dc;},Hc=a=>{var b=Dc;if(!b)return Fc(0),0;var c=new Ac(b);z()[c.Ja+16>>2]=b;var d=z()[c.Ja+4>>2];if(!d)return Fc(0),b;for(var e of a){if(0===e||e===d)break;if(Gc(e,d,c.Ja+16))return Fc(e),b}Fc(d);return b},Ya=()=>Hc([]),Za=a=>Hc([a]),$a=(a,b,c)=>{var d=new Ac(a);z()[d.Ja+16>>2]=0;z()[d.Ja+4>>2]=b;z()[d.Ja+8>>2]=c;Dc=a;zc++;throw Dc;},bb=()=>Oa(""),O=(a,b)=>Object.defineProperty(b,"name",{value:a}),Ic=[],P=[],R,Jc=a=>{throw new R(a);},Kc=a=>{if(!a)throw new R("Cannot use deleted val. handle = "+
a);return P[a]},Lc=a=>{switch(a){case void 0:return 2;case null:return 4;case !0:return 6;case !1:return 8;default:const b=Ic.pop()||P.length;P[b]=a;P[b+1]=1;return b}},Mc=a=>{var b=Error,c=O(a,function(d){this.name=a;this.message=d;d=Error(d).stack;void 0!==d&&(this.stack=this.toString()+"\n"+d.replace(/^Error(:[^\n]*)?\n/,""))});c.prototype=Object.create(b.prototype);c.prototype.constructor=c;c.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`};
return c},Nc,Oc,S=a=>{for(var b="";x()[a];)b+=Oc[x()[a++]];return b},Pc={},Qc=(a,b)=>{if(void 0===b)throw new R("ptr should not be undefined");for(;a.Na;)b=a.$a(b),a=a.Na;return b},T={},Sc=a=>{a=Rc(a);var b=S(a);U(a);return b},Tc=(a,b)=>{var c=T[a];if(void 0===c)throw a=`${b} has unknown type ${Sc(a)}`,new R(a);return c},Uc=()=>{},Vc=!1,Wc=(a,b,c)=>{if(b===c)return a;if(void 0===c.Na)return null;a=Wc(a,b,c.Na);return null===a?null:c.ob(a)},Xc={},Yc=(a,b)=>{b=Qc(a,b);return Pc[b]},Zc,ad=(a,b)=>{if(!b.La||
!b.Ja)throw new Zc("makeClassHandle requires ptr and ptrType");if(!!b.Qa!==!!b.Oa)throw new Zc("Both smartPtrType and smartPtr must be specified");b.count={value:1};return $c(Object.create(a,{Ia:{value:b,writable:!0}}))},$c=a=>{if("undefined"===typeof FinalizationRegistry)return $c=b=>b,a;Vc=new FinalizationRegistry(b=>{b=b.Ia;--b.count.value;0===b.count.value&&(b.Oa?b.Qa.Sa(b.Oa):b.La.Ka.Sa(b.Ja))});$c=b=>{var c=b.Ia;c.Oa&&Vc.register(b,{Ia:c},b);return b};Uc=b=>{Vc.unregister(b)};return $c(a)},
cb=(a,b,c)=>{a=S(a);b=Tc(b,"wrapper");c=Kc(c);var d=b.Ka,e=d.Va,f=d.Na.Va,h=d.Na.constructor;a=O(a,function(...g){d.Na.kb.forEach(function(l){if(this[l]===f[l])throw new Nc(`Pure virtual function ${l} must be implemented in JavaScript`);}.bind(this));Object.defineProperty(this,"__parent",{value:e});this.__construct(...g)});e.__construct=function(...g){if(this===e)throw new R("Pass correct 'this' to __construct");g=h.implement(this,...g);Uc(g);var l=g.Ia;g.notifyOnDestruction();l.Ya=!0;Object.defineProperties(this,
{Ia:{value:l}});$c(this);g=l.Ja;g=Qc(d,g);if(Pc.hasOwnProperty(g))throw new R(`Tried to register registered instance: ${g}`);Pc[g]=this};e.__destruct=function(){if(this===e)throw new R("Pass correct 'this' to __destruct");Uc(this);var g=this.Ia.Ja;g=Qc(d,g);if(Pc.hasOwnProperty(g))delete Pc[g];else throw new R(`Tried to unregister unregistered instance: ${g}`);};a.prototype=Object.create(e);Object.assign(a.prototype,c);return Lc(a)},bd={},cd=a=>{for(;a.length;){var b=a.pop();a.pop()(b)}};
function dd(a){return this.fromWireType(z()[a>>2])}
var ed={},fd={},W=(a,b,c)=>{function d(g){g=c(g);if(g.length!==a.length)throw new Zc("Mismatched type converter count");for(var l=0;l<a.length;++l)V(a[l],g[l])}a.forEach(g=>fd[g]=b);var e=Array(b.length),f=[],h=0;b.forEach((g,l)=>{T.hasOwnProperty(g)?e[l]=T[g]:(f.push(g),ed.hasOwnProperty(g)||(ed[g]=[]),ed[g].push(()=>{e[l]=T[g];++h;h===f.length&&d(e)}))});0===f.length&&d(e)},db=a=>{var b=bd[a];delete bd[a];var c=b.gb,d=b.Sa,e=b.jb,f=e.map(h=>h.vb).concat(e.map(h=>h.Db));W([a],f,h=>{var g={};e.forEach((l,
k)=>{var m=h[k],t=l.tb,q=l.ub,u=h[k+e.length],w=l.Cb,H=l.Eb;g[l.qb]={read:Q=>m.fromWireType(t(q,Q)),write:(Q,na)=>{var E=[];w(H,Q,u.toWireType(E,na));cd(E)}}});return[{name:b.name,fromWireType:l=>{var k={},m;for(m in g)k[m]=g[m].read(l);d(l);return k},toWireType:(l,k)=>{for(var m in g)if(!(m in k))throw new TypeError(`Missing field: "${m}"`);var t=c();for(m in g)g[m].write(t,k[m]);null!==l&&l.push(d,t);return t},Ra:X,readValueFromPointer:dd,Pa:d}]})},eb=()=>{};
function gd(a,b,c={}){var d=b.name;if(!a)throw new R(`type "${d}" must have a positive integer typeid pointer`);if(T.hasOwnProperty(a)){if(c.yb)return;throw new R(`Cannot register type '${d}' twice`);}T[a]=b;delete fd[a];ed.hasOwnProperty(a)&&(b=ed[a],delete ed[a],b.forEach(e=>e()))}function V(a,b,c={}){return gd(a,b,c)}
var X=8,fb=(a,b,c,d)=>{b=S(b);V(a,{name:b,fromWireType:function(e){return!!e},toWireType:function(e,f){return f?c:d},Ra:X,readValueFromPointer:function(e){return this.fromWireType(x()[e])},Pa:null})},hd=a=>{throw new R(a.Ia.La.Ka.name+" instance already deleted");},jd=[];function kd(){}
var ld=(a,b,c)=>{if(void 0===a[b].Ma){var d=a[b];a[b]=function(...e){if(!a[b].Ma.hasOwnProperty(e.length))throw new R(`Function '${c}' called with an invalid number of arguments (${e.length}) - expects one of (${a[b].Ma})!`);return a[b].Ma[e.length].apply(this,e)};a[b].Ma=[];a[b].Ma[d.Wa]=d}},md=(a,b,c)=>{if(A.hasOwnProperty(a)){if(void 0===c||void 0!==A[a].Ma&&void 0!==A[a].Ma[c])throw new R(`Cannot register public name '${a}' twice`);ld(A,a,a);if(A[a].Ma.hasOwnProperty(c))throw new R(`Cannot register multiple overloads of a function with the same number of arguments (${c})!`);
A[a].Ma[c]=b}else A[a]=b,A[a].Wa=c},nd=a=>{a=a.replace(/[^a-zA-Z0-9_]/g,"$");var b=a.charCodeAt(0);return 48<=b&&57>=b?`_${a}`:a};function od(a,b,c,d,e,f,h,g){this.name=a;this.constructor=b;this.Va=c;this.Sa=d;this.Na=e;this.rb=f;this.$a=h;this.ob=g;this.kb=[]}var pd=(a,b,c)=>{for(;b!==c;){if(!b.$a)throw new R(`Expected null or instance of ${c.name}, got an instance of ${b.name}`);a=b.$a(a);b=b.Na}return a};
function qd(a,b){if(null===b){if(this.fb)throw new R(`null is not a valid ${this.name}`);return 0}if(!b.Ia)throw new R(`Cannot pass "${rd(b)}" as a ${this.name}`);if(!b.Ia.Ja)throw new R(`Cannot pass deleted object as a pointer of type ${this.name}`);return pd(b.Ia.Ja,b.Ia.La.Ka,this.Ka)}
function sd(a,b){if(null===b){if(this.fb)throw new R(`null is not a valid ${this.name}`);if(this.cb){var c=this.gb();null!==a&&a.push(this.Sa,c);return c}return 0}if(!b||!b.Ia)throw new R(`Cannot pass "${rd(b)}" as a ${this.name}`);if(!b.Ia.Ja)throw new R(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.bb&&b.Ia.La.bb)throw new R(`Cannot convert argument of type ${b.Ia.Qa?b.Ia.Qa.name:b.Ia.La.name} to parameter type ${this.name}`);c=pd(b.Ia.Ja,b.Ia.La.Ka,this.Ka);if(this.cb){if(void 0===
b.Ia.Oa)throw new R("Passing raw pointer to smart pointer is illegal");switch(this.Fb){case 0:if(b.Ia.Qa===this)c=b.Ia.Oa;else throw new R(`Cannot convert argument of type ${b.Ia.Qa?b.Ia.Qa.name:b.Ia.La.name} to parameter type ${this.name}`);break;case 1:c=b.Ia.Oa;break;case 2:if(b.Ia.Qa===this)c=b.Ia.Oa;else{var d=b.clone();c=this.Bb(c,Lc(()=>d["delete"]()));null!==a&&a.push(this.Sa,c)}break;default:throw new R("Unsupporting sharing policy");}}return c}
function td(a,b){if(null===b){if(this.fb)throw new R(`null is not a valid ${this.name}`);return 0}if(!b.Ia)throw new R(`Cannot pass "${rd(b)}" as a ${this.name}`);if(!b.Ia.Ja)throw new R(`Cannot pass deleted object as a pointer of type ${this.name}`);if(b.Ia.La.bb)throw new R(`Cannot convert argument of type ${b.Ia.La.name} to parameter type ${this.name}`);return pd(b.Ia.Ja,b.Ia.La.Ka,this.Ka)}
function ud(a,b,c,d,e,f,h,g,l,k,m){this.name=a;this.Ka=b;this.fb=c;this.bb=d;this.cb=e;this.Ab=f;this.Fb=h;this.lb=g;this.gb=l;this.Bb=k;this.Sa=m;e||void 0!==b.Na?this.toWireType=sd:(this.toWireType=d?qd:td,this.Pa=null)}
var vd=(a,b,c)=>{if(!A.hasOwnProperty(a))throw new Zc("Replacing nonexistent public symbol");void 0!==A[a].Ma&&void 0!==c?A[a].Ma[c]=b:(A[a]=b,A[a].Wa=c)},wd=(a,b,c=[])=>{a.includes("j")?(a=a.replace(/p/g,"i"),b=(0,A["dynCall_"+a])(b,...c)):b=M(b)(...c);return b},xd=(a,b)=>(...c)=>wd(a,b,c),Y=(a,b)=>{a=S(a);var c=a.includes("j")?xd(a,b):M(b);if("function"!=typeof c)throw new R(`unknown function pointer with signature ${a}: ${b}`);return c},yd,zd=(a,b)=>{function c(f){e[f]||T[f]||(fd[f]?fd[f].forEach(c):
(d.push(f),e[f]=!0))}var d=[],e={};b.forEach(c);throw new yd(`${a}: `+d.map(Sc).join([", "]));},hb=(a,b,c,d,e,f,h,g,l,k,m,t,q)=>{m=S(m);f=Y(e,f);g&&=Y(h,g);k&&=Y(l,k);q=Y(t,q);var u=nd(m);md(u,function(){zd(`Cannot construct ${m} due to unbound types`,[d])});W([a,b,c],d?[d]:[],w=>{w=w[0];if(d){var H=w.Ka;var Q=H.Va}else Q=kd.prototype;w=O(m,function(...gb){if(Object.getPrototypeOf(this)!==na)throw new R("Use 'new' to construct "+m);if(void 0===E.Xa)throw new R(m+" has no accessible constructor");
var kc=E.Xa[gb.length];if(void 0===kc)throw new R(`Tried to invoke ctor of ${m} with invalid number of parameters (${gb.length}) - expected (${Object.keys(E.Xa).toString()}) parameters instead!`);return kc.apply(this,gb)});var na=Object.create(Q,{constructor:{value:w}});w.prototype=na;var E=new od(m,w,na,q,H,f,g,k);if(E.Na){var pa;(pa=E.Na).ab??(pa.ab=[]);E.Na.ab.push(E)}H=new ud(m,E,!0,!1,!1);pa=new ud(m+"*",E,!1,!1,!1);Q=new ud(m+" const*",E,!1,!0,!1);Xc[a]={pointerType:pa,nb:Q};vd(u,w);return[H,
pa,Q]})};function Ad(a){for(var b=1;b<a.length;++b)if(null!==a[b]&&void 0===a[b].Pa)return!0;return!1}function Bd(a){var b=Function;if(!(b instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof b} which is not a function`);var c=O(b.name||"unknownFunctionName",function(){});c.prototype=b.prototype;c=new c;a=b.apply(c,a);return a instanceof Object?a:c}
function Cd(a,b,c,d,e,f){var h=b.length;if(2>h)throw new R("argTypes array size mismatch! Must at least get return value and 'this' types!");var g=null!==b[1]&&null!==c,l=Ad(b);c="void"!==b[0].name;d=[a,Jc,d,e,cd,b[0],b[1]];for(e=0;e<h-2;++e)d.push(b[e+2]);if(!l)for(e=g?1:2;e<b.length;++e)null!==b[e].Pa&&d.push(b[e].Pa);l=Ad(b);e=b.length-2;var k=[],m=["fn"];g&&m.push("thisWired");for(h=0;h<e;++h)k.push(`arg${h}`),m.push(`arg${h}Wired`);k=k.join(",");m=m.join(",");k=`return function (${k}) {\n`;l&&
(k+="var destructors = [];\n");var t=l?"destructors":"null",q="humanName throwBindingError invoker fn runDestructors retType classParam".split(" ");g&&(k+=`var thisWired = classParam['toWireType'](${t}, this);\n`);for(h=0;h<e;++h)k+=`var arg${h}Wired = argType${h}['toWireType'](${t}, arg${h});\n`,q.push(`argType${h}`);k+=(c||f?"var rv = ":"")+`invoker(${m});\n`;if(l)k+="runDestructors(destructors);\n";else for(h=g?1:2;h<b.length;++h)f=1===h?"thisWired":"arg"+(h-2)+"Wired",null!==b[h].Pa&&(k+=`${f}_dtor(${f});\n`,
q.push(`${f}_dtor`));c&&(k+="var ret = retType['fromWireType'](rv);\nreturn ret;\n");let [u,w]=[q,k+"}\n"];u.push(w);b=Bd(u)(...d);return O(a,b)}
var Dd=(a,b)=>{for(var c=[],d=0;d<a;d++)c.push(z()[b+4*d>>2]);return c},Ed=a=>{a=a.trim();const b=a.indexOf("(");return-1!==b?a.substr(0,b):a},ib=(a,b,c,d,e,f,h,g)=>{var l=Dd(c,d);b=S(b);b=Ed(b);f=Y(e,f);W([],[a],k=>{function m(){zd(`Cannot call ${t} due to unbound types`,l)}k=k[0];var t=`${k.name}.${b}`;b.startsWith("@@")&&(b=Symbol[b.substring(2)]);var q=k.Ka.constructor;void 0===q[b]?(m.Wa=c-1,q[b]=m):(ld(q,b,t),q[b].Ma[c-1]=m);W([],l,u=>{u=Cd(t,[u[0],null].concat(u.slice(1)),null,f,h,g);void 0===
q[b].Ma?(u.Wa=c-1,q[b]=u):q[b].Ma[c-1]=u;if(k.Ka.ab)for(const w of k.Ka.ab)w.constructor.hasOwnProperty(b)||(w.constructor[b]=u);return[]});return[]})},jb=(a,b,c,d,e,f)=>{var h=Dd(b,c);e=Y(d,e);W([],[a],g=>{g=g[0];var l=`constructor ${g.name}`;void 0===g.Ka.Xa&&(g.Ka.Xa=[]);if(void 0!==g.Ka.Xa[b-1])throw new R(`Cannot register multiple constructors with identical number of parameters (${b-1}) for class '${g.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);
g.Ka.Xa[b-1]=()=>{zd(`Cannot construct ${g.name} due to unbound types`,h)};W([],h,k=>{k.splice(1,0,null);g.Ka.Xa[b-1]=Cd(l,k,null,e,f);return[]});return[]})},kb=(a,b,c,d,e,f,h,g,l)=>{var k=Dd(c,d);b=S(b);b=Ed(b);f=Y(e,f);W([],[a],m=>{function t(){zd(`Cannot call ${q} due to unbound types`,k)}m=m[0];var q=`${m.name}.${b}`;b.startsWith("@@")&&(b=Symbol[b.substring(2)]);g&&m.Ka.kb.push(b);var u=m.Ka.Va,w=u[b];void 0===w||void 0===w.Ma&&w.className!==m.name&&w.Wa===c-2?(t.Wa=c-2,t.className=m.name,u[b]=
t):(ld(u,b,q),u[b].Ma[c-2]=t);W([],k,H=>{H=Cd(q,H,m,f,h,l);void 0===u[b].Ma?(H.Wa=c-2,u[b]=H):u[b].Ma[c-2]=H;return[]});return[]})},Eb=a=>{9<a&&0===--P[a+1]&&(P[a]=void 0,Ic.push(a))},Fd={name:"emscripten::val",fromWireType:a=>{var b=Kc(a);Eb(a);return b},toWireType:(a,b)=>Lc(b),Ra:X,readValueFromPointer:dd,Pa:null},lb=a=>V(a,Fd),Gd=(a,b,c)=>{switch(b){case 1:return c?function(d){return this.fromWireType(n()[d])}:function(d){return this.fromWireType(x()[d])};case 2:return c?function(d){return this.fromWireType(ba()[d>>
1])}:function(d){return this.fromWireType(da()[d>>1])};case 4:return c?function(d){return this.fromWireType(y()[d>>2])}:function(d){return this.fromWireType(z()[d>>2])};default:throw new TypeError(`invalid integer width (${b}): ${a}`);}},mb=(a,b,c,d)=>{function e(){}b=S(b);e.values={};V(a,{name:b,constructor:e,fromWireType:function(f){return this.constructor.values[f]},toWireType:(f,h)=>h.value,Ra:X,readValueFromPointer:Gd(b,c,d),Pa:null});md(b,e)},nb=(a,b,c)=>{var d=Tc(a,"enum");b=S(b);a=d.constructor;
d=Object.create(d.constructor.prototype,{value:{value:c},constructor:{value:O(`${d.name}_${b}`,function(){})}});a.values[c]=d;a[b]=d},rd=a=>{if(null===a)return"null";var b=typeof a;return"object"===b||"array"===b||"function"===b?a.toString():""+a},Hd=(a,b)=>{switch(b){case 4:return function(c){var d=this.fromWireType;p.buffer!=r.buffer&&v();return d.call(this,xa[c>>2])};case 8:return function(c){return this.fromWireType(ia()[c>>3])};default:throw new TypeError(`invalid float width (${b}): ${a}`);
}},ob=(a,b,c)=>{b=S(b);V(a,{name:b,fromWireType:d=>d,toWireType:(d,e)=>e,Ra:X,readValueFromPointer:Hd(b,c),Pa:null})},pb=(a,b,c,d,e,f,h)=>{var g=Dd(b,c);a=S(a);a=Ed(a);e=Y(d,e);md(a,function(){zd(`Cannot call ${a} due to unbound types`,g)},b-1);W([],g,l=>{vd(a,Cd(a,[l[0],null].concat(l.slice(1)),null,e,f,h),b-1);return[]})},Id=(a,b,c)=>{switch(b){case 1:return c?d=>n()[d]:d=>x()[d];case 2:return c?d=>ba()[d>>1]:d=>da()[d>>1];case 4:return c?d=>y()[d>>2]:d=>z()[d>>2];default:throw new TypeError(`invalid integer width (${b}): ${a}`);
}},qb=(a,b,c,d,e)=>{b=S(b);-1===e&&(e=4294967295);e=g=>g;if(0===d){var f=32-8*c;e=g=>g<<f>>>f}var h=b.includes("unsigned")?function(g,l){return l>>>0}:function(g,l){return l};V(a,{name:b,fromWireType:e,toWireType:h,Ra:X,readValueFromPointer:Id(b,c,0!==d),Pa:null})},rb=(a,b,c)=>{function d(f){var h=z()[f>>2];f=z()[f+4>>2];return new e(n().buffer,f,h)}var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];c=S(c);V(a,{name:c,fromWireType:d,Ra:X,readValueFromPointer:d},
{yb:!0})},Jd="undefined"!=typeof TextDecoder?new TextDecoder:void 0,Kd=(a,b=0,c=NaN)=>{var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.buffer&&Jd)return Jd.decode(a.buffer instanceof ArrayBuffer?a.subarray(b,c):a.slice(b,c));for(d="";b<c;){var e=a[b++];if(e&128){var f=a[b++]&63;if(192==(e&224))d+=String.fromCharCode((e&31)<<6|f);else{var h=a[b++]&63;e=224==(e&240)?(e&15)<<12|f<<6|h:(e&7)<<18|f<<12|h<<6|a[b++]&63;65536>e?d+=String.fromCharCode(e):(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|
e&1023))}}else d+=String.fromCharCode(e)}return d},sb=(a,b)=>{b=S(b);V(a,{name:b,fromWireType:function(c){for(var d=z()[c>>2],e=c+4,f,h=e,g=0;g<=d;++g){var l=e+g;if(g==d||0==x()[l]){var k=h;h=l-h;k=k?Kd(x(),k,h):"";void 0===f?f=k:(f+=String.fromCharCode(0),f+=k);h=l+1}}U(c);return f},toWireType:function(c,d){d instanceof ArrayBuffer&&(d=new Uint8Array(d));var e="string"==typeof d;if(!(e||d instanceof Uint8Array||d instanceof Uint8ClampedArray||d instanceof Int8Array))throw new R("Cannot pass non-string to std::string");
var f;if(e)for(var h=f=0;h<d.length;++h){var g=d.charCodeAt(h);127>=g?f++:2047>=g?f+=2:55296<=g&&57343>=g?(f+=4,++h):f+=3}else f=d.length;g=f;f=Ld(4+g+1);h=f+4;z()[f>>2]=g;if(e){if(g+=1,e=x(),0<g){g=h+g-1;for(var l=0;l<d.length;++l){var k=d.charCodeAt(l);if(55296<=k&&57343>=k){var m=d.charCodeAt(++l);k=65536+((k&1023)<<10)|m&1023}if(127>=k){if(h>=g)break;e[h++]=k}else{if(2047>=k){if(h+1>=g)break;e[h++]=192|k>>6}else{if(65535>=k){if(h+2>=g)break;e[h++]=224|k>>12}else{if(h+3>=g)break;e[h++]=240|k>>
18;e[h++]=128|k>>12&63}e[h++]=128|k>>6&63}e[h++]=128|k&63}}e[h]=0}}else if(e)for(e=0;e<g;++e){l=d.charCodeAt(e);if(255<l)throw U(h),new R("String has UTF-16 code units that do not fit in 8 bits");x()[h+e]=l}else for(e=0;e<g;++e)x()[h+e]=d[e];null!==c&&c.push(U,f);return f},Ra:X,readValueFromPointer:dd,Pa(c){U(c)}})},Md="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,Nd=(a,b)=>{var c=a>>1;for(var d=c+b/2;!(c>=d)&&da()[c];)++c;c<<=1;if(32<c-a&&Md)return Md.decode(x().slice(a,c));
c="";for(d=0;!(d>=b/2);++d){var e=ba()[a+2*d>>1];if(0==e)break;c+=String.fromCharCode(e)}return c},Od=(a,b,c)=>{c??=2147483647;if(2>c)return 0;c-=2;var d=b;c=c<2*a.length?c/2:a.length;for(var e=0;e<c;++e){var f=a.charCodeAt(e);ba()[b>>1]=f;b+=2}ba()[b>>1]=0;return b-d},Pd=a=>2*a.length,Qd=(a,b)=>{for(var c=0,d="";!(c>=b/4);){var e=y()[a+4*c>>2];if(0==e)break;++c;65536<=e?(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023)):d+=String.fromCharCode(e)}return d},Rd=(a,b,c)=>{c??=2147483647;if(4>
c)return 0;var d=b;c=d+c-4;for(var e=0;e<a.length;++e){var f=a.charCodeAt(e);if(55296<=f&&57343>=f){var h=a.charCodeAt(++e);f=65536+((f&1023)<<10)|h&1023}y()[b>>2]=f;b+=4;if(b+4>c)break}y()[b>>2]=0;return b-d},Sd=a=>{for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&++c;b+=4}return b},tb=(a,b,c)=>{c=S(c);if(2===b){var d=Nd;var e=Od;var f=Pd;var h=g=>da()[g>>1]}else 4===b&&(d=Qd,e=Rd,f=Sd,h=g=>z()[g>>2]);V(a,{name:c,fromWireType:g=>{for(var l=z()[g>>2],k,m=g+4,t=0;t<=l;++t){var q=
g+4+t*b;if(t==l||0==h(q))m=d(m,q-m),void 0===k?k=m:(k+=String.fromCharCode(0),k+=m),m=q+b}U(g);return k},toWireType:(g,l)=>{if("string"!=typeof l)throw new R(`Cannot pass non-string to C++ string type ${c}`);var k=f(l),m=Ld(4+k+b);z()[m>>2]=k/b;e(l,m+4,k+b);null!==g&&g.push(U,m);return m},Ra:X,readValueFromPointer:dd,Pa(g){U(g)}})},ub=(a,b,c,d,e,f)=>{bd[a]={name:S(b),gb:Y(c,d),Sa:Y(e,f),jb:[]}},vb=(a,b,c,d,e,f,h,g,l,k)=>{bd[a].jb.push({qb:S(b),vb:c,tb:Y(d,e),ub:f,Db:h,Cb:Y(g,l),Eb:k})},wb=(a,b)=>
{b=S(b);V(a,{zb:!0,name:b,Ra:0,fromWireType:()=>{},toWireType:()=>{}})},xb=a=>{Ca(a,!qa,1,!oa,16777216,!1);Da()},Td=a=>{if(!va)try{if(a(),!(0<G))try{B?xc(wa):Mb(wa)}catch(b){jc(b)}}catch(b){jc(b)}},Ea=a=>{"function"===typeof Atomics.Kb&&(Atomics.Kb(y(),a>>2,a).value.then(Ha),a+=128,Atomics.store(y(),a>>2,1))},Ha=()=>{var a=Aa();a&&(Ea(a),Td(Ud))},yb=(a,b)=>{a==b?setTimeout(Ha):B?postMessage({eb:a,Ta:"checkMailbox"}):(a=L[a])&&a.postMessage({Ta:"checkMailbox"})},Vd=[],zb=(a,b,c,d,e)=>{Vd.length=d;
b=e>>3;for(c=0;c<d;c++)Vd[c]=ia()[b+c];return(0,Wd[a])(...Vd)},Ab=()=>{G=0},Bb=a=>{B?postMessage({Ta:"cleanupThread",Hb:a}):rc(L[a])},Cb=()=>{},Xd={},Yd=[],Db=(a,b,c,d,e)=>{a=Yd[a];b=Kc(b);var f=Xd[c];c=void 0===f?S(c):f;return a(b,b[c],d,e)},Zd=a=>{var b=Yd.length;Yd.push(a);return b},$d=(a,b)=>{for(var c=Array(a),d=0;d<a;++d)c[d]=Tc(z()[b+4*d>>2],"parameter "+d);return c},ae=(a,b,c)=>{var d=[];a=a.toWireType(d,c);d.length&&(z()[b>>2]=Lc(d));return a},Fb=(a,b,c)=>{b=$d(a,b);var d=b.shift();a--;var e=
"return function (obj, func, destructorsRef, args) {\n",f=0,h=[];0===c&&h.push("obj");for(var g=["retType"],l=[d],k=0;k<a;++k)h.push("arg"+k),g.push("argType"+k),l.push(b[k]),e+=`  var arg${k} = argType${k}.readValueFromPointer(args${f?"+"+f:""});\n`,f+=b[k].Ra;e+=`  var rv = ${1===c?"new func":"func.call"}(${h.join(", ")});\n`;d.zb||(g.push("emval_returnValue"),l.push(ae),e+="  return emval_returnValue(retType, destructorsRef, rv);\n");g.push(e+"};\n");a=Bd(g)(...l);c=`methodCaller<(${b.map(m=>m.name).join(", ")}) => ${d.name}>`;
return Zd(O(c,a))},Gb=a=>{var b=Kc(a);cd(b);Eb(a)},be={},Kb=()=>performance.timeOrigin+performance.now();function Hb(a,b){if(B)return hc(2,1,a,b);be[a]&&(clearTimeout(be[a].id),delete be[a]);if(!b)return 0;var c=setTimeout(()=>{delete be[a];Td(()=>ce(a,performance.timeOrigin+performance.now()))},b);be[a]={id:c,Ob:b};return 0}
var Ib=()=>{},Jb=()=>{G+=1;throw"unwind";},Lb=a=>{var b=x().length;a>>>=0;if(a<=b||2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);a:{d=(Math.min(2147483648,65536*Math.ceil(Math.max(a,d)/65536))-p.buffer.byteLength+65535)/65536|0;try{p.grow(d);v();var e=1;break a}catch(f){}e=void 0}if(e)return!0}return!1};B||nc();R=A.BindingError=class extends Error{constructor(a){super(a);this.name="BindingError"}};P.push(0,1,void 0,1,null,1,!0,1,!1,1);
A.count_emval_handles=()=>P.length/2-5-Ic.length;Nc=A.PureVirtualError=Mc("PureVirtualError");for(var de=Array(256),ee=0;256>ee;++ee)de[ee]=String.fromCharCode(ee);Oc=de;Zc=A.InternalError=class extends Error{constructor(a){super(a);this.name="InternalError"}};
Object.assign(kd.prototype,{isAliasOf:function(a){if(!(this instanceof kd&&a instanceof kd))return!1;var b=this.Ia.La.Ka,c=this.Ia.Ja;a.Ia=a.Ia;var d=a.Ia.La.Ka;for(a=a.Ia.Ja;b.Na;)c=b.$a(c),b=b.Na;for(;d.Na;)a=d.$a(a),d=d.Na;return b===d&&c===a},clone:function(){this.Ia.Ja||hd(this);if(this.Ia.Ya)return this.Ia.count.value+=1,this;var a=$c,b=Object,c=b.create,d=Object.getPrototypeOf(this),e=this.Ia;a=a(c.call(b,d,{Ia:{value:{count:e.count,Za:e.Za,Ya:e.Ya,Ja:e.Ja,La:e.La,Oa:e.Oa,Qa:e.Qa}}}));a.Ia.count.value+=
1;a.Ia.Za=!1;return a},["delete"](){this.Ia.Ja||hd(this);if(this.Ia.Za&&!this.Ia.Ya)throw new R("Object already scheduled for deletion");Uc(this);var a=this.Ia;--a.count.value;0===a.count.value&&(a.Oa?a.Qa.Sa(a.Oa):a.La.Ka.Sa(a.Ja));this.Ia.Ya||(this.Ia.Oa=void 0,this.Ia.Ja=void 0)},isDeleted:function(){return!this.Ia.Ja},deleteLater:function(){this.Ia.Ja||hd(this);if(this.Ia.Za&&!this.Ia.Ya)throw new R("Object already scheduled for deletion");jd.push(this);this.Ia.Za=!0;return this}});
Object.assign(ud.prototype,{sb(a){this.lb&&(a=this.lb(a));return a},ib(a){this.Sa?.(a)},Ra:X,readValueFromPointer:dd,fromWireType:function(a){function b(){return this.cb?ad(this.Ka.Va,{La:this.Ab,Ja:c,Qa:this,Oa:a}):ad(this.Ka.Va,{La:this,Ja:a})}var c=this.sb(a);if(!c)return this.ib(a),null;var d=Yc(this.Ka,c);if(void 0!==d){if(0===d.Ia.count.value)return d.Ia.Ja=c,d.Ia.Oa=a,d.clone();d=d.clone();this.ib(a);return d}d=this.Ka.rb(c);d=Xc[d];if(!d)return b.call(this);d=this.bb?d.nb:d.pointerType;var e=
Wc(c,this.Ka,d.Ka);return null===e?b.call(this):this.cb?ad(d.Ka.Va,{La:d,Ja:e,Qa:this,Oa:a}):ad(d.Ka.Va,{La:d,Ja:e})}});yd=A.UnboundTypeError=Mc("UnboundTypeError");var Wd=[cc,lc,Hb],Va,Z;
(async function(){function a(d,e){Z=d.exports;mc.push(Z.na);wc=Z.va;Ka.unshift(Z.ia);ua=e;Na();return Z}F++;var b=Ua();if(B)return new Promise(d=>{ya=e=>{var f=new WebAssembly.Instance(e,Ua());a(f,e);d()}});Qa??=Pa("idengine_wasm.wasm")?"idengine_wasm.wasm":A.locateFile?A.locateFile("idengine_wasm.wasm",C):C+"idengine_wasm.wasm";try{var c=await Ta(b);a(c.instance,c.module);return c}catch(d){la(d)}})();
var Rc=a=>(Rc=Z.ja)(a),Fa=()=>(Fa=Z.ka)(),Aa=()=>(Aa=Z.la)(),Ld=A._malloc=a=>(Ld=A._malloc=Z.ma)(a),Ca=(a,b,c,d,e,f)=>(Ca=Z.oa)(a,b,c,d,e,f),Ia=()=>(Ia=Z.pa)(),gc=(a,b,c,d,e)=>(gc=Z.qa)(a,b,c,d,e),qc=a=>(qc=Z.ra)(a),xc=a=>(xc=Z.sa)(a),ce=(a,b)=>(ce=Z.ta)(a,b),Ud=()=>(Ud=Z.ua)(),U=A._free=a=>(U=A._free=Z.wa)(a),N=(a,b)=>(N=Z.xa)(a,b),Fc=a=>(Fc=Z.ya)(a),uc=(a,b)=>(uc=Z.za)(a,b),J=a=>(J=Z.Aa)(a),fc=a=>(fc=Z.Ba)(a),I=()=>(I=Z.Ca)(),Bc=a=>(Bc=Z.Da)(a),Ec=a=>(Ec=Z.Ea)(a),Gc=(a,b,c)=>(Gc=Z.Fa)(a,b,c),Cc=
a=>(Cc=Z.Ga)(a),fe=A.dynCall_iiiiidj=(a,b,c,d,e,f,h,g)=>(fe=A.dynCall_iiiiidj=Z.Ha)(a,b,c,d,e,f,h,g);function Pb(a,b){var c=I();try{return M(a)(b)}catch(d){J(c);if(d!==d+0)throw d;N(1,0)}}function bc(a,b,c,d,e,f,h,g,l,k,m){var t=I();try{M(a)(b,c,d,e,f,h,g,l,k,m)}catch(q){J(t);if(q!==q+0)throw q;N(1,0)}}function Xb(a,b){var c=I();try{M(a)(b)}catch(d){J(c);if(d!==d+0)throw d;N(1,0)}}function Yb(a,b,c){var d=I();try{M(a)(b,c)}catch(e){J(d);if(e!==e+0)throw e;N(1,0)}}
function Qb(a,b,c){var d=I();try{return M(a)(b,c)}catch(e){J(d);if(e!==e+0)throw e;N(1,0)}}function Zb(a,b,c,d){var e=I();try{M(a)(b,c,d)}catch(f){J(e);if(f!==f+0)throw f;N(1,0)}}function $b(a,b,c,d,e){var f=I();try{M(a)(b,c,d,e)}catch(h){J(f);if(h!==h+0)throw h;N(1,0)}}function Rb(a,b,c,d){var e=I();try{return M(a)(b,c,d)}catch(f){J(e);if(f!==f+0)throw f;N(1,0)}}function Wb(a){var b=I();try{M(a)()}catch(c){J(b);if(c!==c+0)throw c;N(1,0)}}
function Ob(a,b,c){var d=I();try{return M(a)(b,c)}catch(e){J(d);if(e!==e+0)throw e;N(1,0)}}function Sb(a,b,c,d,e){var f=I();try{return M(a)(b,c,d,e)}catch(h){J(f);if(h!==h+0)throw h;N(1,0)}}function Nb(a,b,c,d,e,f){var h=I();try{return M(a)(b,c,d,e,f)}catch(g){J(h);if(g!==g+0)throw g;N(1,0)}}function ac(a,b,c,d,e,f){var h=I();try{M(a)(b,c,d,e,f)}catch(g){J(h);if(g!==g+0)throw g;N(1,0)}}function Vb(a,b,c,d,e,f){var h=I();try{return M(a)(b,c,d,e,f)}catch(g){J(h);if(g!==g+0)throw g;N(1,0)}}
function Tb(a,b,c,d,e,f){var h=I();try{return M(a)(b,c,d,e,f)}catch(g){J(h);if(g!==g+0)throw g;N(1,0)}}function Ub(a,b,c,d,e,f,h,g){var l=I();try{return fe(a,b,c,d,e,f,h,g)}catch(k){J(l);if(k!==k+0)throw k;N(1,0)}}var ge;Ma=function he(){ge||ie();ge||(Ma=he)};function ie(){0<F||(B?(ka(A),B?startWorker(A):tc(Ka)):(tc(Ja),0<F||ge||(ge=!0,A.calledRun=!0,va||(B?startWorker(A):tc(Ka),ka(A),B||tc(La)))))}ie();moduleRtn=ma;


  return moduleRtn;
}
);
})();
if (typeof exports === 'object' && typeof module === 'object') {
  module.exports = SmartIDEngine;
  // This default export looks redundant, but it allows TS to import this
  // commonjs style module.
  module.exports.default = SmartIDEngine;
} else if (typeof define === 'function' && define['amd'])
  define([], () => SmartIDEngine);
var isPthread = globalThis.self?.name?.startsWith('em-pthread');
// When running as a pthread, construct a new instance on startup
isPthread && SmartIDEngine();
